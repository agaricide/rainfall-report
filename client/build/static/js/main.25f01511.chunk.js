(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/gps-3.6b9ad439.svg"},15:function(e,t,n){e.exports=n.p+"static/media/gps-2.6e4eb28d.svg"},17:function(e,t,n){e.exports=n.p+"static/media/agar.d0b0ecec.svg"},19:function(e,t,n){e.exports=n(60)},25:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},6:function(e,t,n){e.exports=n.p+"static/media/gps-1.219edb91.svg"},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),i=(n(25),n(3)),l=n.n(i),s=n(4),u=n(1),m=(n(29),n(6)),d=n.n(m),p=n(14),f=n.n(p),E=r.a.memo(function(e){var t=Object(a.useState)("untouched"),n=Object(u.a)(t,2),o=n[0],c=n[1],i=function e(){c("loading"),document.removeEventListener("mouseup",e)},l={untouched:r.a.createElement("span",null,r.a.createElement("img",{src:d.a})," find sensor"),active:r.a.createElement("span",null,r.a.createElement("img",{src:f.a})," find sensor"),loading:r.a.createElement("span",null,r.a.createElement("img",{className:"loading",src:d.a})," find sensor")};return r.a.createElement("section",{className:"cta"},r.a.createElement("h1",null,"Use ",r.a.createElement("b",null,"gps")," to find nearest ",r.a.createElement("b",null,"rainfall sensor")),r.a.createElement("button",{onMouseDown:function(){c("active"),document.addEventListener("mouseup",i),e.onClick()}},l[o]))}),v=r.a.memo(function(e){return r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return e.onClick(e.interval)}},e.display))}),h=(n(31),n(15)),g=n.n(h),b=function(e){var t=Object(a.useState)("sevenDays"),n=Object(u.a)(t,2),o=n[0],c=n[1];return r.a.createElement("main",{className:"report"},r.a.createElement("div",{className:"location",onClick:function(){return function(e,t){var n="https://www.google.com.sa/maps/search/".concat(e,",").concat(t);window.open(n,"_blank")}(e.latitude,e.longitude)}},r.a.createElement("span",{className:"point"},r.a.createElement("img",{src:g.a})),e.name),r.a.createElement("div",{className:"rainfall"},e[o]||"0.0",r.a.createElement("span",{className:"units"}," in")),r.a.createElement("ul",{className:"intervals wide"},r.a.createElement(v,{display:"6hr",interval:"sixHours",onClick:c}),r.a.createElement(v,{display:"24hr",interval:"oneDay",onClick:c}),r.a.createElement(v,{display:"7d",interval:"sevenDays",onClick:c}),r.a.createElement(v,{display:"1mo",interval:"thirtyDays",onClick:c}),r.a.createElement(v,{display:"12mo",interval:"pastYear",onClick:c})))},w=n(18),y={timeout:6e5,enableHighAccuracy:!0},k={coords:{accuracy:0,altitude:null,altitudeAccuracy:null,heading:null,latitude:0,longitude:0,speed:null},timestamp:0},j=function(){var e=Object(a.useState)(k),t=Object(u.a)(e,2),n=t[0],r=t[1],o=function(e){return new Promise(function(t,n){navigator.geolocation.getCurrentPosition(t,n,Object(w.a)({},e,y))})};return[n,function(){var e=Object(s.a)(l.a.mark(function e(){var t,a,c=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,o(t);case 3:return a=e.sent,r(a),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()]},O=n(16),C=n.n(O);function N(e){return e.map(function(e){return function(e){return{name:e.station_name,latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude),sixHours:parseFloat(e._6_hours),oneDay:parseFloat(e._1_day),sevenDays:parseFloat(e._7_days),thirtyDays:parseFloat(e._30_days),pastYear:parseFloat(e.past_year),lastModifed:e.update_time}}(e)})}function x(){return(x=Object(s.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()("api/report");case 2:return n=e.sent,a=N(n.data),t&&t(a),e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}n(52);var _=r.a.memo(function(e){return r.a.createElement("header",null,r.a.createElement("a",{className:"logo",onClick:function(){return e.goTo("find")}},"Dallas Rain Report"),r.a.createElement("nav",null,r.a.createElement("ul",{className:"views"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return e.goTo("find")}},"Report")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return e.goTo("about")}},"About")))))}),D=(n(54),n(17)),F=n.n(D),R=r.a.memo(function(){return r.a.createElement("section",{className:"about"},r.a.createElement("p",null,"Made with ",r.a.createElement("b",null,"love")," by ",r.a.createElement("b",null,"agar",r.a.createElement("span",{className:"tm"},"\u2122"))," using the free ",r.a.createElement("b",null,r.a.createElement("a",{href:"https://www.dallasopendata.com/Environment/Rainfall-Report/jus4-wys9"},"OpenData Rainfall Report."))),r.a.createElement("p",null,r.a.createElement("b",null,"Dallas")," places sensors throughout ",r.a.createElement("b",null,"the City "),"to measure rainfall. This data provides readings in a variety of increments to inform ",r.a.createElement("b",null,"the citizenry")," of rainfall rates/amounts, by location, within an elapsed time span."),r.a.createElement("p",null,"This information is provided with the understanding that it is",r.a.createElement("b",null," not guaranteed")," to be",r.a.createElement("b",null," correct or complete")," and conclusions drawn from such information are the sole responsibility of ",r.a.createElement("b",null,"the Citizen"),"."),r.a.createElement("a",{href:"https://github.com/agaricide"},r.a.createElement("img",{src:F.a})))}),S=(n(56),r.a.memo(function(e){return r.a.createElement("footer",null,r.a.createElement("span",{className:"coordinate latitude"},e.coords.latitude||"0.00"),r.a.createElement("span",{className:"coordinate latitude"},e.coords.longitude||"0.00"))})),T=(n(58),function(e){var t=Object(a.useState)(e.default),n=Object(u.a)(t,2),r=n[0],o=n[1],c=function(e){e.state&&o(e.state.route)};Object(a.useEffect)(function(){return window.addEventListener("popstate",c),function(){window.removeEventListener("popstate",c)}});var i;return[r,(i=o,function(e){history.pushState({route:e},"".concat(e," page"),"#/".concat(e)),i(e)})]}),H=function(){var e=T({default:"find"}),t=Object(u.a)(e,2),n=t[0],o=t[1],c=j(),i=Object(u.a)(c,2),m=i[0],d=i[1],p=Object(a.useState)([]),f=Object(u.a)(p,2),v=f[0],h=f[1],g=Object(a.useState)({latitude:0,longitude:0}),w=Object(u.a)(g,2),y=w[0],k=w[1];Object(a.useEffect)(function(){(function(e){return x.apply(this,arguments)})().then(h)},[]);var O=function(){var e=Object(s.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:o("sensor");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),C=function(e,t){var n={sensor:t[0],distance:1/0};return t.forEach(function(t){var a=t.longitude-e.longitude,r=t.latitude-e.latitude,o=Math.sqrt(a*a+r*r);o<n.distance&&(n.distance=o,n.sensor=t)}),n.sensor}(m.coords,v);C!==y&&k(C);var N={sensor:r.a.createElement(b,y),find:r.a.createElement(E,{onClick:O}),about:r.a.createElement(R,null)};return r.a.createElement("div",{className:"app"},r.a.createElement(_,{goTo:o}),N[n],r.a.createElement(S,{coords:m.coords}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=1/150;c.a.render(r.a.createElement(H,null),document.getElementById("root")),function(e){if(!e)throw"No element specifed.";var t=window.innerWidth/2,n=window.innerHeight/2;window.onmousemove=function(a){var r=a.screenX,o=a.screenY,c=(t-r)*L,i=(n-o)*L;e.style.transform="translate3d(".concat(c,"px, ").concat(i,"px, 0)")}}(document.getElementById("background")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.25f01511.chunk.js.map